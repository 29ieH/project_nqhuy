<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <%- include('../utils/link.ejs')%>
</head>
<body>
    <div style="display: flex;justify-content: center;">
    <div style="width: 1080px;">
            <%- include('../part/header.ejs') %>
            <h3 class="my-3 text-center" >Cart</h3>
            <div style="margin-top: 60px;">
                <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Image</th>
                        <th scope="col">Name</th>
                        <th scope="col">Quanity</th>
                        <th scope="col">Price</th>
                      </tr>
                    </thead>
                    <tbody>
                        <%
                        var data = data ? data : [];
                        var i = 1 ;
                        var total = 0;
                        data.forEach(pr => {
                          total+=pr.price;
                        %>
                      <tr>
                        <th scope="row"><%=i%></th>
                        <td><img style="width: 50px;height: 50px;" src="<%=pr.img%>" alt=""></td>
                        <td><%=pr.name%></td>
                        <td><%=pr.quantity%></td>
                        <td><%=pr.price.toFixed(2)%></td>
                      </tr>
                      <% i++}) %>
                    </tbody>
                  </table>
                    <h5>Total: <%=total.toFixed(2)%> </h5>
                    <div style="display: flex; justify-content: center;">
                      <a href="/invoice/addandshow" id="button-buy" style="width: 30%" type="button" class="btn btn-primary">Buy</a>
                  </div>
            </div>
        </div>
    </div>
</body>
</html>